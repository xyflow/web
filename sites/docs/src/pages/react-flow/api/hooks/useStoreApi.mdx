import { Callout } from 'nextra/components';
import { PropsTable } from '@/components/props-table';
import { signature } from '@/page-data/react-flow/api/hooks/useStoreApi.ts';

# useStoreApi

[Source on GitHub](https://github.com/wbkd/react-flow/blob/f919cb152dd5a92ec3b4d7e4568ffe099bc2af39/packages/react/src/hooks/useStore.ts#L26)

In some cases, you might need to access the store directly. This hook returns the store object which can be used on demand to access the state or dispatch actions.

<Callout type="info">
  This hook should only be used if there is no other way to access the internal
  state.
</Callout>

```tsx
import { useCallback } from 'react';
import ReactFlow, { useStoreApi } from '@xyflow/react';

const NodesLengthLogger = () => {
  const store = useStoreApi();

  const onClick = useCallback(() => {
    const { nodeInternals } = store.getState();
    const nodesLength = Array.from(nodeInternals.values()).length || 0;
    console.log('nodes length changed:', nodesLength);
  }, []);

  return <button onClick={onClick}>print node length</button>;
};

function Flow() {
  return (
    <ReactFlow nodes={nodes}>
      <NodesLengthLogger />
    </ReactFlow>
  );
}
```

## Signature

<PropsTable {...signature} />
