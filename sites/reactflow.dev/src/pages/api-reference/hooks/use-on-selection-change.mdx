---
title: useOnSelectionChange
description:
  'This hook lets you listen for changes to both node and edge selection. As the
  name implies, the callback you provide will be called whenever the selection of
  either nodes or edges changes.'
---

import { Callout } from 'nextra/components';
import { PropsTable } from '@/components/props-table';
import { signature } from '@/page-data/reference/hooks/useOnSelectionChange.ts';

# useOnSelectionChange

[Source on GitHub](https://github.com/xyflow/xyflow/blob/v11/packages/core/src/hooks/useOnSelectionChange.ts/#L10)

This hook lets you listen for changes to both node and edge selection. As the
name implies, the callback you provide will be called whenever the selection of
_either_ nodes or edges changes.

<Callout type="info">
  You need to memoize the passed `onChange` handler, otherwise the hook will not
  work correctly.
</Callout>

```jsx
import { useState } from 'react';
import ReactFlow, { useOnSelectionChange } from 'reactflow';

function SelectionDisplay() {
  const [selectedNodes, setSelectedNodes] = useState([]);
  const [selectedEdges, setSelectedEdges] = useState([]);

  // the passed handler has to be memoized, otherwise the hook will not work correctly
  const onChange = useCallback({ nodes, edges }) => {
    setSelectedNodes(nodes.map((node) => node.id));
    setSelectedEdges(edges.map((edge) => edge.id));
  }, [])

  useOnSelectionChange({
    onChange
  });

  return (
    <div>
      <p>Selected nodes: {selectedNodes.join(', ')}</p>
      <p>Selected edges: {selectedEdges.join(', ')}</p>
    </div>
  );
}
```

## Signature

<PropsTable {...signature} />

## Notes

- This hook can only be used in a component that is a child of a
  [`<ReactFlowProvider />`](/api-reference/react-flow-provider) or a
  [`<ReactFlow />`](/api-reference/react-flow) component.
