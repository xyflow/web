CREATE TABLE "public"."team_subscriptions" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "created_by" uuid NOT NULL, "email" citext NOT NULL, "subscription_plan_id" text NOT NULL DEFAULT 'free', "sent_invite_mail" boolean NOT NULL DEFAULT false, "user_id" uuid, PRIMARY KEY ("id") , FOREIGN KEY ("created_by") REFERENCES "public"."user_subscriptions"("user_id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("created_by") REFERENCES "auth"."users"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("user_id") REFERENCES "auth"."users"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("email") REFERENCES "auth"."users"("email") ON UPDATE restrict ON DELETE restrict, UNIQUE ("id"), UNIQUE ("email"), UNIQUE ("user_id"));COMMENT ON TABLE "public"."team_subscriptions" IS E'This table stores the subscriptions for team members, created by the main subscriber';
CREATE EXTENSION IF NOT EXISTS pgcrypto;
